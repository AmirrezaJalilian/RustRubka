# RustRubka 

ÛŒÙ‡ Ú©ØªØ§Ø¨Ø®ÙˆÙ†Ù‡ Ø³Ø§Ø¯Ù‡ Ùˆ Ø±Ø§Ø­Øª Ø¨Ø±Ø§ÛŒ Ú©Ø§Ø± Ø¨Ø§ API Ø±Ø¨Ø§Øªâ€ŒÙ‡Ø§ÛŒ Ø±ÙˆØ¨ÛŒÚ©Ø§ØŒ Ù†ÙˆØ´ØªÙ‡ Ø´Ø¯Ù‡ Ø¨Ø§ Rust. Ø§Ú¯Ù‡ Ù…ÛŒâ€ŒØ®ÙˆØ§ÛŒ Ø±Ø¨Ø§Øªâ€ŒÙ‡Ø§ÛŒ Ø±ÙˆØ¨ÛŒÚ©Ø§ Ø¨Ø³Ø§Ø²ÛŒ Ùˆ Ù…Ø¯ÛŒØ±ÛŒØª Ú©Ù†ÛŒØŒ Ø§ÛŒÙ† Ú©ØªØ§Ø¨Ø®ÙˆÙ†Ù‡ Ø¯Ù‚ÛŒÙ‚Ø§Ù‹ Ù‡Ù…ÙˆÙ† Ú†ÛŒØ²ÛŒÙ‡ Ú©Ù‡ Ù†ÛŒØ§Ø² Ø¯Ø§Ø±ÛŒ. Ø¨ÛŒâ€ŒØ­Ø§Ø´ÛŒÙ‡ØŒ Ù…Ø³ØªÙ‚ÛŒÙ… Ùˆ Ú©Ø§Ø±Ø¨Ø±Ø¯ÛŒ!

## Ú†ÛŒÚ©Ø§Ø± Ù…ÛŒâ€ŒÚ©Ù†Ù‡ØŸ ğŸ¤–

RustRubka Ø¨Ù‡Øª Ú©Ù…Ú© Ù…ÛŒâ€ŒÚ©Ù†Ù‡ ØªØ§ Ø¨Ø§ API Ø±ÙˆØ¨ÛŒÚ©Ø§ Ø§Ø±ØªØ¨Ø§Ø· Ø¨Ø±Ù‚Ø±Ø§Ø± Ú©Ù†ÛŒ Ùˆ Ø±Ø¨Ø§Øªâ€ŒÙ‡Ø§ÛŒÛŒ Ø¨Ø³Ø§Ø²ÛŒ Ú©Ù‡ Ù…ÛŒâ€ŒØªÙˆÙ†Ù†:
- Ù¾ÛŒØ§Ù… Ø¨ÙØ±Ø³ØªÙ† Ùˆ Ø¯Ø±ÛŒØ§ÙØª Ú©Ù†Ù†
- Ú©ÛŒØ¨ÙˆØ±Ø¯Ù‡Ø§ÛŒ Ú†Øª Ùˆ Ø§ÛŒÙ†Ù„Ø§ÛŒÙ† Ø¨Ø³Ø§Ø²Ù†
- ÙØ§ÛŒÙ„ØŒ Ø¹Ú©Ø³ØŒ Ù…ÙˆØ³ÛŒÙ‚ÛŒ Ùˆ ØºÛŒØ±Ù‡ Ø¢Ù¾Ù„ÙˆØ¯ Ú©Ù†Ù†
- Ù†Ø¸Ø±Ø³Ù†Ø¬ÛŒ Ø¨ÙØ±Ø³ØªÙ†
- Ù…ÙˆÙ‚Ø¹ÛŒØª Ù…Ú©Ø§Ù†ÛŒ Ùˆ Ù…Ø®Ø§Ø·Ø¨â€ŒÙ‡Ø§ Ø±Ùˆ Ù…Ø¯ÛŒØ±ÛŒØª Ú©Ù†Ù†
- Ùˆ Ú©Ù„ÛŒ Ú†ÛŒØ² Ø¯ÛŒÚ¯Ù‡!

Ù‡Ù…Ù‡ Ú†ÛŒØ² Ø¨Ù‡ ØµÙˆØ±Øª async Ù†ÙˆØ´ØªÙ‡ Ø´Ø¯Ù‡ØŒ Ù¾Ø³ Ø³Ø±ÛŒØ¹ Ùˆ Ú©Ø§Ø±Ø¢Ù…Ø¯ Ù‡Ø³Øª.

## Ù†ØµØ¨Ø´ Ú†Ø·ÙˆØ±Ù‡ØŸ ğŸ“¦

Ø§ÙˆÙ„ Ù…Ø·Ù…Ø¦Ù† Ø´Ùˆ Ú©Ù‡ Rust Ø±Ùˆ Ù†ØµØ¨ Ø¯Ø§Ø±ÛŒ (Ø§Ú¯Ø± Ù†Ù‡ØŒ Ø¨Ø±Ùˆ Ø¨Ù‡ [rustup.rs](https://rustup.rs) Ùˆ Ù†ØµØ¨Ø´ Ú©Ù†).

Ø¨Ø¹Ø¯ØŒ Ø§ÛŒÙ† Ú©ØªØ§Ø¨Ø®ÙˆÙ†Ù‡ Ø±Ùˆ Ø¨Ù‡ Ù¾Ø±ÙˆÚ˜Ù‡â€ŒØª Ø§Ø¶Ø§ÙÙ‡ Ú©Ù†:

```toml
[dependencies]
rust_rubka = "0.1.0"
```

ÛŒØ§ Ø§Ú¯Ø± Ù…ÛŒâ€ŒØ®ÙˆØ§ÛŒ Ø§Ø² Ú¯ÛŒØªâ€ŒÙ‡Ø§Ø¨ Ù…Ø³ØªÙ‚ÛŒÙ… Ø¨Ú¯ÛŒØ±ÛŒ:

```toml
[dependencies]
rust_rubka = { git = "https://github.com/AmirrezaJalilian/RustRubka" }
```

## Ú†Ø·ÙˆØ± Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒÙ…ØŸ ğŸ’»

Ø§ÙˆÙ„ØŒ ÛŒÙ‡ Ø±Ø¨Ø§Øª Ø¯Ø± Ø±ÙˆØ¨ÛŒÚ©Ø§ Ø¨Ø³Ø§Ø² Ùˆ ØªÙˆÚ©Ù†Ø´ Ø±Ùˆ Ø¨Ú¯ÛŒØ±. Ø¨Ø¹Ø¯ØŒ Ú©Ø¯ Ø²ÛŒØ± Ø±Ùˆ Ø¨Ø¨ÛŒÙ†:

```rust
use rust_rubka::{Robot, Message};

#[tokio::main]
async fn main() {
    // Ø±Ø¨Ø§Øª Ø±Ùˆ Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ Ú©Ù†
    let mut robot = Robot::new(
        "ØªÙˆÚ©Ù†_Ø±Ø¨Ø§Øª_ØªÙˆ".to_string(),
        None, // Ù†Ø§Ù… Ø³Ø´Ù† (Ø§Ø®ØªÛŒØ§Ø±ÛŒ)
        None, // auth (Ø§Ø®ØªÛŒØ§Ø±ÛŒ)
        None, // key (Ø§Ø®ØªÛŒØ§Ø±ÛŒ)
        None, // Ù¾Ù„ØªÙØ±Ù… (Ø§Ø®ØªÛŒØ§Ø±ÛŒ)
        None, // ØªØ§ÛŒÙ…â€ŒØ§ÙˆØª (Ø§Ø®ØªÛŒØ§Ø±ÛŒ)
    );

    // Ù‡Ù†Ø¯Ù„Ø± Ø¨Ø±Ø§ÛŒ Ù¾ÛŒØ§Ù…â€ŒÙ‡Ø§
    robot.on_message(None, Some(vec!["start".to_string()]), |bot, msg| {
        Box::pin(async move {
            msg.reply("Ø³Ù„Ø§Ù…! Ù…Ù† Ø±Ø¨Ø§Øª Ù‡Ø³ØªÙ…!").await.unwrap();
        })
    });

    // Ù‡Ù†Ø¯Ù„Ø± Ø¨Ø±Ø§ÛŒ Ú©Ø§Ù„â€ŒØ¨Ú©â€ŒÙ‡Ø§
    robot.on_callback(None, |bot, msg| {
        Box::pin(async move {
            println!("Ú©Ø§Ù„â€ŒØ¨Ú© Ø¯Ø±ÛŒØ§ÙØª Ø´Ø¯!");
        })
    });

    // Ø±Ø¨Ø§Øª Ø±Ùˆ Ø§Ø¬Ø±Ø§ Ú©Ù†
    robot.run().await.unwrap();
}
```

Ø§ÛŒÙ† ÛŒÙ‡ Ù…Ø«Ø§Ù„ Ø³Ø§Ø¯Ù‡ Ø¨ÙˆØ¯. Ø­Ø§Ù„Ø§ Ø¨ÛŒØ§ÛŒÛŒØ¯ ÛŒÙ‡ Ù…Ø«Ø§Ù„ Ú©Ø§Ù…Ù„â€ŒØªØ± Ø¨Ø¨ÛŒÙ†ÛŒÙ….

## Ù…Ø«Ø§Ù„â€ŒÙ‡Ø§ÛŒ Ú©Ø§Ø±Ø¨Ø±Ø¯ÛŒ ğŸ“

### Ø§Ø±Ø³Ø§Ù„ Ù¾ÛŒØ§Ù… Ø¨Ø§ Ú©ÛŒØ¨ÙˆØ±Ø¯ Ø§ÛŒÙ†Ù„Ø§ÛŒÙ†

```rust
use rust_rubka::{Robot, InlineBuilder};

#[tokio::main]
async fn main() {
    let mut robot = Robot::new("ØªÙˆÚ©Ù†".to_string(), None, None, None, None, None);

    robot.on_message(None, Some(vec!["menu".to_string()]), |bot, msg| {
        Box::pin(async move {
            let keypad = InlineBuilder::new()
                .row(&[
                    InlineBuilder::button_simple("btn1", "Ú¯Ø²ÛŒÙ†Ù‡ Û±"),
                    InlineBuilder::button_simple("btn2", "Ú¯Ø²ÛŒÙ†Ù‡ Û²"),
                ])
                .build();

            msg.reply_inline("Ù…Ù†Ùˆ Ø±Ùˆ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†:", &keypad).await.unwrap();
        })
    });

    robot.on_callback(Some("btn1".to_string()), |bot, msg| {
        Box::pin(async move {
            msg.edit("Ú¯Ø²ÛŒÙ†Ù‡ Û± Ø§Ù†ØªØ®Ø§Ø¨ Ø´Ø¯!").await.unwrap();
        })
    });

    robot.run().await.unwrap();
}
```

### Ø§Ø±Ø³Ø§Ù„ ÙØ§ÛŒÙ„

```rust
robot.on_message(None, Some(vec!["file".to_string()]), |bot, msg| {
    Box::pin(async move {
        bot.send_document(
            &msg.chat_id,
            Some("path/to/file.pdf"),
            None,
            Some("ÛŒÙ‡ ÙØ§ÛŒÙ„ Ø¨Ø±Ø§ÛŒ ØªØ³Øª"),
            None,
            None,
            None,
            None,
            None,
            None,
        ).await.unwrap();
    })
});
```

### Ø§Ø±Ø³Ø§Ù„ Ù†Ø¸Ø±Ø³Ù†Ø¬ÛŒ

```rust
robot.on_message(None, Some(vec!["poll".to_string()]), |bot, msg| {
    Box::pin(async move {
        bot.send_poll(
            &msg.chat_id,
            "Ø¨Ù‡ØªØ±ÛŒÙ† Ø²Ø¨Ø§Ù† Ø¨Ø±Ù†Ø§Ù…Ù‡â€ŒÙ†ÙˆÛŒØ³ÛŒ Ú†ÛŒÙ‡ØŸ",
            &["Rust".to_string(), "Python".to_string(), "JavaScript".to_string()],
        ).await.unwrap();
    })
});
```

## API Reference ğŸ“š

### Robot

Ú©Ù„Ø§Ø³ Ø§ØµÙ„ÛŒ Ø¨Ø±Ø§ÛŒ Ù…Ø¯ÛŒØ±ÛŒØª Ø±Ø¨Ø§Øª.

- `new(token, session_name, auth, key, platform, timeout)`: Ø±Ø¨Ø§Øª Ø±Ùˆ Ù…ÛŒâ€ŒØ³Ø§Ø²Ù‡.
- `on_message(filters, commands, handler)`: Ù‡Ù†Ø¯Ù„Ø± Ø¨Ø±Ø§ÛŒ Ù¾ÛŒØ§Ù…â€ŒÙ‡Ø§.
- `on_callback(button_id, handler)`: Ù‡Ù†Ø¯Ù„Ø± Ø¨Ø±Ø§ÛŒ Ú©Ø§Ù„â€ŒØ¨Ú©â€ŒÙ‡Ø§.
- `on_inline_query(handler)`: Ù‡Ù†Ø¯Ù„Ø± Ø¨Ø±Ø§ÛŒ Ú©ÙˆØ¦Ø±ÛŒâ€ŒÙ‡Ø§ÛŒ Ø§ÛŒÙ†Ù„Ø§ÛŒÙ†.
- `send_message(chat_id, text, ...)`: Ù¾ÛŒØ§Ù… Ù…ÛŒâ€ŒÙØ±Ø³ØªÙ‡.
- `send_poll(chat_id, question, options)`: Ù†Ø¸Ø±Ø³Ù†Ø¬ÛŒ Ù…ÛŒâ€ŒÙØ±Ø³ØªÙ‡.
- `send_location(chat_id, lat, lon, ...)`: Ù…ÙˆÙ‚Ø¹ÛŒØª Ù…ÛŒâ€ŒÙØ±Ø³ØªÙ‡.
- `send_contact(chat_id, first_name, last_name, phone)`: Ù…Ø®Ø§Ø·Ø¨ Ù…ÛŒâ€ŒÙØ±Ø³ØªÙ‡.
- `send_document(...)`, `send_image(...)`, etc.: ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ Ø±Ùˆ Ù…ÛŒâ€ŒÙØ±Ø³ØªÙ‡.
- `run()`: Ø±Ø¨Ø§Øª Ø±Ùˆ Ø§Ø¬Ø±Ø§ Ù…ÛŒâ€ŒÚ©Ù†Ù‡.

### Message

Ø¨Ø±Ø§ÛŒ Ú©Ø§Ø± Ø¨Ø§ Ù¾ÛŒØ§Ù…â€ŒÙ‡Ø§.

- `reply(text)`: Ù¾Ø§Ø³Ø® Ù…ÛŒâ€ŒØ¯Ù‡.
- `edit(new_text)`: Ù¾ÛŒØ§Ù… Ø±Ùˆ ÙˆÛŒØ±Ø§ÛŒØ´ Ù…ÛŒâ€ŒÚ©Ù†Ù‡.
- `delete()`: Ù¾ÛŒØ§Ù… Ø±Ùˆ Ù¾Ø§Ú© Ù…ÛŒâ€ŒÚ©Ù†Ù‡.

### Builders

- `InlineBuilder`: Ø¨Ø±Ø§ÛŒ Ú©ÛŒØ¨ÙˆØ±Ø¯Ù‡Ø§ÛŒ Ø§ÛŒÙ†Ù„Ø§ÛŒÙ†.
- `ChatKeypadBuilder`: Ø¨Ø±Ø§ÛŒ Ú©ÛŒØ¨ÙˆØ±Ø¯Ù‡Ø§ÛŒ Ú†Øª.

Ø¨Ø±Ø§ÛŒ Ø¬Ø²Ø¦ÛŒØ§Øª Ø¨ÛŒØ´ØªØ±ØŒ Ú©Ø¯ Ù…Ù†Ø¨Ø¹ Ø±Ùˆ Ú†Ú© Ú©Ù† ÛŒØ§ Ø¯Ø§Ú©ÛŒÙˆÙ…Ù†Øª Ú©Ø§Ù…Ù„ Ø±Ùˆ Ø¨Ø¨ÛŒÙ†.

## Ù…Ø´Ø§Ø±Ú©Øª ğŸ¤

Ø§ÛŒØ¯Ù‡ Ø¯Ø§Ø±ÛŒ ÛŒØ§ Ø¨Ø§Ú¯ÛŒ Ù¾ÛŒØ¯Ø§ Ú©Ø±Ø¯ÛŒØŸ Ø®ÙˆØ´Ø­Ø§Ù„ Ù…ÛŒâ€ŒØ´ÛŒÙ… Ú©Ù…Ú© Ú©Ù†ÛŒ! ÛŒÙ‡ PR Ø¨ÙØ±Ø³Øª ÛŒØ§ issue Ø¨Ø§Ø² Ú©Ù† Ø¯Ø± [Ú¯ÛŒØªâ€ŒÙ‡Ø§Ø¨](https://github.com/AmirrezaJalilian/RustRubka).

